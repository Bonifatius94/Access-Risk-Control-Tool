<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import com.jfoenix.controls.JFXTextField?>
<?import com.jfoenix.validation.RequiredFieldValidator?>
<?import de.jensd.fx.glyphs.materialdesignicons.MaterialDesignIconView?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<?import javafx.scene.control.Separator?>
<?import javafx.scene.text.Font?>
<?import ui.custom.controls.CustomWindow?>
<?import ui.custom.controls.PTableColumn?>

<CustomWindow xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" title="%newWhitelist"
              fx:controller="ui.main.whitelists.NewWhitelistDialogController" windowState="NoResize">
    <!--TODO: what is here needet , border color ? etc-->
    <VBox HBox.hgrow="ALWAYS" style="-fx-padding: 20" spacing="10">
        <VBox alignment="BASELINE_LEFT" spacing="30" HBox.hgrow="ALWAYS">
            <JFXTextField fx:id="whitelistName" maxWidth="300" promptText="%whitelistName">
                <validators>
                    <RequiredFieldValidator message="%required">
                        <MaterialDesignIconView glyphName="ALERT"/>
                    </RequiredFieldValidator>
                </validators>
            </JFXTextField>
            <JFXTextField fx:id="tfDescription" promptText="%description" maxWidth="450">
                <validators>
                    <RequiredFieldValidator message="%required">
                        <MaterialDesignIconView glyphName="ALERT"/>
                    </RequiredFieldValidator>
                </validators>
            </JFXTextField>
            <VBox/>
            <Separator/>
            <HBox alignment="CENTER" spacing="30">
                <TableView fx:id="newWhitelistTable" minWidth="550">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                    <columns>
                        <PTableColumn percentageWidth="0.4" text="%useCaseId" fx:id="usecaseId">
                            <cellValueFactory>
                                <PropertyValueFactory property="usecaseId"/>
                            </cellValueFactory>
                        </PTableColumn>
                        <PTableColumn percentageWidth="0.4" text="%username" fx:id="userName">
                            <cellValueFactory>
                                <PropertyValueFactory property="username"/>
                            </cellValueFactory>
                        </PTableColumn>
                        <PTableColumn percentageWidth="0.2" resizable="false" fx:id="deleteWhitelistEntryColumn">
                        </PTableColumn>
                    </columns>
                </TableView>
                <VBox alignment="CENTER_RIGHT">
                    <HBox alignment="BASELINE_LEFT" HBox.hgrow="ALWAYS" spacing="40">
                        <VBox spacing="30">
                            <Label text="%objectDetails">
                                <font>
                                    <Font size="18"/>
                                </font>
                            </Label>
                            <JFXTextField fx:id="tfUscaseId" prefWidth="300" promptText="%useCaseId">
                                <validators>
                                    <RequiredFieldValidator message="%required">
                                        <MaterialDesignIconView glyphName="ALERT"/>
                                    </RequiredFieldValidator>
                                </validators>
                            </JFXTextField>
                            <JFXTextField fx:id="tfUserName" prefWidth="300" promptText="%username">
                                <validators>
                                    <RequiredFieldValidator message="%required">
                                        <MaterialDesignIconView glyphName="ALERT"/>
                                    </RequiredFieldValidator>
                                </validators>
                            </JFXTextField>
                            <HBox alignment="BASELINE_RIGHT" spacing="10">
                                <JFXButton fx:id="addButton"
                                           onAction="#addNewWhitelistEntry" styleClass="round-button" prefWidth="30"
                                           prefHeight="30">
                                    <graphic>
                                        <MaterialDesignIconView glyphName="PLUS"/>
                                    </graphic>
                                    <tooltip>
                                        <Tooltip text="%newEntry"/>
                                    </tooltip>
                                </JFXButton>
                                <JFXButton styleClass="round-button" onAction="#saveEntry" prefWidth="30"
                                           prefHeight="30">
                                    <graphic>
                                        <MaterialDesignIconView glyphName="CHECK"/>
                                    </graphic>
                                    <tooltip>
                                        <Tooltip text="%apply"/>
                                    </tooltip>
                                </JFXButton>
                            </HBox>
                        </VBox>
                    </HBox>
                </VBox>
            </HBox>
            <Separator/>
            <HBox HBox.hgrow="ALWAYS">
                <HBox spacing="10" alignment="BASELINE_RIGHT" HBox.hgrow="ALWAYS">

                    <JFXButton onAction="#saveNewWhitelist" prefWidth="120" text="%save">
                        <graphic>
                            <MaterialDesignIconView glyphName="CONTENT_SAVE"/>
                        </graphic>
                    </JFXButton>
                    <JFXButton onAction="#cancelNewWhitelist" prefWidth="120" text="%cancel">
                        <graphic>
                            <MaterialDesignIconView glyphName="CLOSE"/>
                        </graphic>
                    </JFXButton>
                </HBox>
            </HBox>
        </VBox>
    </VBox>
</CustomWindow>

